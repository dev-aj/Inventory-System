<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=2.0" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body style="background-color: rgb(145, 189, 214);">
    <div id="request">
      <button class="btn btn-primary" onclick="getData()">Get Data</button>
      <div id="datab"></div>
    </div>
  </body>
  <script>
    let ele = document.getElementById('datab');
    async function getData() {
      const config = {
        headers: {
          'Content-Type': 'application/json',
          'api-key': '94F29378FB46A4B6B8D0317298B712D5',
        },
      };
      if (ele.innerHTML == '') {
        ele.innerHTML = '<p>Loading...</p>';
      }
      console.log('Here getdata');
      try {
        const response = await axios.get(
          'https://searchservicenew.search.windows.net/indexes/azureblob-index/docs?api-version=2019-05-06&search=How is ketchup produced?',
          config
        );
        for (let i = 0; i < response.data.value.length; i++) {
          let ptag = document.createElement('p');
          ele.appendChild(ptag);
          document.getElementsByTagName('p')[i].innerText =
            response.data.value[i].content;
          // ele.innerHTML = `<p>${response.data.value[0].content}</p>`;
        }
      } catch (error) {
        console.error(error);
      }
    }
  </script>
</html>
